## Инструкции

> Заполните приведенные ниже таблицы, зная заданный IPv4-адрес, исходную и новую маску подсети.

## Решение

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>192.168.200.139</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.255.255.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.255.224</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>27</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>8</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>5</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>30</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>192.168.200.128</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>192.168.200.129</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>192.168.200.158</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>192.168.200.159</td>
    </tr>
</table>

---

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>10.101.99.228</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.0.0.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.128.0</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>17</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>512</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>15</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>32766</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>10.101.0.0</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>10.101.0.1</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>10.101.127.254</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>10.101.127.255</td>
    </tr>
</table>

---

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>172.22.32.12</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.255.0.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.224.0</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>19</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>8</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>13</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>8190</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>172.22.32.0</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>172.22.32.1</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>172.22.63.254</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>172.22.63.255</td>
    </tr>
</table>

---

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>192.168.1.245</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.255.255.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.255.252</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>30</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>64</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>6</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>2</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>192.168.1.244</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>192.168.1.245</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>192.168.1.246</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>192.168.1.247</td>
    </tr>
</table>

---

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>128.107.0.55</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.255.0.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.255.0</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>24</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>256</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>8</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>254</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>128.107.0.0</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>128.107.0.1</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>128.107.0.254</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>128.107.0.255</td>
    </tr>
</table>

---

<table>
    <tr>
        <th colspan="2">Дано</th>
    </tr>
    <tr>
        <td>IP-адрес узла</td>
        <td>192.135.250.180</td>
    </tr>
    <tr>
        <td>Исходная маска подсети</td>
        <td>255.255.255.0</td>
    </tr>
    <tr>
        <td>Новая маска подсети</td>
        <td>255.255.255.248</td>
    </tr>
</table>

<table>
    <tr>
        <th colspan="2">Найти</th>
    </tr>
    <tr>
        <td>Количество бит подсети</td>
        <td>29</td>
    </tr>
    <tr>
        <td>Количество созданных подсетей</td>
        <td>32</td>
    </tr>
    <tr>
        <td>Количество бит узлов в подсети</td>
        <td>3</td>
    </tr>
    <tr>
        <td>Количество узлов в подсети</td>
        <td>6</td>
    </tr>
    <tr>
        <td>Сетевой адрес этой подсети</td>
        <td>192.135.250.176</td>
    </tr>
    <tr>
        <td>IPv4-адрес первого узла в этой подсети</td>
        <td>192.168.250.177</td>
    </tr>
    <tr>
        <td>IPv4-адрес последнего узла в этой подсети</td>
        <td>192.168.250.182</td>
    </tr>
    <tr>
        <td>Широковещательный IPv4-адрес в этой подсети</td>
        <td>192.168.250.183</td>
    </tr>
</table>

## Вопрос для повторения

> Почему маска подсети так важна при анализе IPv4-адреса?

Маска подсети определяет тип IPv4-адреса.
Он может являться идентификатором сети, broadcast-адресом или хостом сети.

## Пример заполнения первой таблицы

### Количество бит подсети

Для маски `255.255.255.224` это 27 (см. последний раздел "Вспомогательные штуки").

### Количество созданных подсетей

Считаем относительно исходной маски `255.255.255.0`.
Наглядно:
```
11111111.11111111.11111111.00000000 /24
11111111.11111111.11111111.11100000 /27
```

Следовательно, разница между масками 3 бита, а это `2 ^ 3 = 8`.

### Количество бит узлов в подсети

На узлы выделяется оставшиеся 5 битов (32 минус 27).

### Количество узлов в подсети

Это `2 ^ количества бит узлов`.
То есть количество узлов равно 32, минус адрес сети и бродкаст, итого 30.

### Сетевой адрес этой подсети

Судя по тому, что у нас получилось 8 подсетей, перечислим их:

```
192.168.200.0
192.168.200.32
192.168.200.64
192.168.200.96
192.168.200.128
192.168.200.160
192.168.200.192
192.168.200.224
```

Так как надо вычислить сеть для IP-адреса `192.168.200.139`, следовательно,
он попадает в подсеть `192.168.200.128`.

### IPv4-адрес первого узла в этой подсети

Далее все просто: `192.168.200.129`.

### IPv4-адрес последнего узла в этой подсети

`192.168.200.158`.

### Широковещательный IPv4-адрес в этой подсети

`192.168.200.159`.

## Вспомогательные штуки

### Представление масок в различных вариантах
| Биты      | Маска | Префикс |
| :-------- | :---  | :------ |
| 0000 0000 | 0     | /24     |
| 1000 0000 | 128   | /25     |
| 1100 0000 | 192   | /26     |
| 1110 0000 | 224   | /27     |
| 1111 0000 | 240   | /28     |
| 1111 1000 | 248   | /29     |
| 1111 1100 | 252   | /30     |
| 1111 1110 | 254   | /31     |
| 1111 1111 | 255   | /32     |

### Гребенка
128 64 32 16 8 4 2 1